var AdjacencyList=new function(){this.getAdjacencyList=function(t){for(var s={},i=0;i<t.length;i++){for(var e=[],n=0;n<t[i].length;n++)1==t[i][n]&&e.push(n);s[i]=[];for(n=0;n<e.length;n++)s[i].push(e[n])}return s}},ElementaryCyclesSearch=new function(){this.cycles=null,this.adjList=null,this.graphNodes=null,this.blocked=null,this.B=null,this.stack=null,this.sizee=0,this.createElementaryCyclesSearch=function(t,s){this.graphNodes=s;var i=$.extend(!0,{},AdjacencyList);this.adjList=i.getAdjacencyList(t),this.sizee=0;for(key in this.adjList)this.sizee++},this.getElementaryCycles=function(){this.cycles=[],this.blocked=[],this.B=zeroMatrix([this.sizee,0]);for(key in this.adjList)this.blocked.push(!1);this.stack=[];var t=$.extend(!0,{},StrongConnectedComponents);t.createStrongConnectedComponents(this.adjList);for(var s=0;;){var i=t.getAdjacencyList(s);if(null==i||null==i.getAdjList())break;var e=i.getAdjList();s=i.getLowestNodeId();for(var n=0;n<e.length;n++)null!=e[n]&&e[n].length>0&&(this.blocked[n]=!1,this.B[n]=[]);this.findCycles(s,s,e),s++}return this.cycles},this.findCycles=function(t,s,i){var e=!1;this.stack.push(t),this.blocked[t]=!0;for(r=0;r<i[t].length;r++)if((o=i[t][r])==s){for(var n=[],h=0;h<this.stack.length;h++){var l=this.stack[h];n.push(this.graphNodes[l])}this.cycles.push(n),e=!0}else this.blocked[o]||this.findCycles(o,s,i)&&(e=!0);if(e)this.unblock(t);else for(var r=0;r<i[t].length;r++){var o=i[t][r];this.B[o].includes(t)||this.B[o].push(t)}for(var a=0;a<this.stack.length;a++)if(this.stack[a]==t){this.stack.splice(a,1);break}return e},this.unblock=function(t){this.blocked[t]=!1;for(var s=this.B[t];s.length>0;){var i=s[0];s.splice(0,1),this.blocked[i]&&this.unblock(i)}}},SCCResult=new function(){this.nodeIDsOfSCC=null,this.adjList=null,this.lowestNodeId=-1,this.createSCCResult=function(t,s){if(this.adjList=t,this.lowestNodeId=s,this.nodeIDsOfSCC=[],null!=this.adjList){var i=0;for(key in this.adjList)i++;for(var e=this.lowestNodeId;e<i;e++)this.adjList[e].length>0&&this.nodeIDsOfSCC.push(e)}},this.getAdjList=function(){return this.adjList},this.getLowestNodeId=function(){return this.lowestNodeId}},StrongConnectedComponents=new function(){this.adjListOriginal=null,this.adjList=null,this.visited=null,this.stack=null,this.lowlink=null,this.number=null,this.sccCounter=0,this.currentSCCs=null,this.sizee=0,this.createStrongConnectedComponents=function(t){this.adjListOriginal=t,this.sizee=0;for(key in this.adjListOriginal)this.sizee++},this.getAdjacencyList=function(t){this.visited=[],this.lowlink=[],this.number=[];for(s=0;s<this.sizee;s++)this.visited.push(!1),this.lowlink.push(0),this.number.push(0);this.stack=[],this.currentSCCs=[],this.makeAdjListSubgraph(t);for(var s=t;s<this.sizee;s++)if(!this.visited[s]){this.getStrongConnectedComponents(s);var i=this.getLowestIdComponent();if(null!=i&&!i.includes(t)&&!i.includes(t+1))return this.getAdjacencyList(t+1);var e=this.getAdjList(i);if(null!=e)for(var n=0;n<this.sizee;n++)if(e[n].length>0){var h=$.extend(!0,{},SCCResult);return h.createSCCResult(e,n),h}}return null},this.makeAdjListSubgraph=function(t){this.adjList=zeroMatrix([this.sizee,0]);for(var s=t;s<this.adjList.length;s++){for(var i=[],e=0;e<this.adjListOriginal[s].length;e++)this.adjListOriginal[s][e]>=t&&i.push(this.adjListOriginal[s][e]);if(i.length>0){this.adjList[s]=[];for(var n=0;n<i.length;n++)this.adjList[s].push(0);for(e=0;e<i.length;e++){var h=i[e];this.adjList[s][e]=h}}}},this.getLowestIdComponent=function(){for(var t=this.adjList.length,s=null,i=0;i<this.currentSCCs.length;i++)for(var e=this.currentSCCs[i],n=0;n<e.length;n++){var h=e[n];h<t&&(s=e,t=h)}return s},this.getAdjList=function(t){var s=null;if(null!=t){s={};for(var i=0;i<this.adjList.length;i++)s[i]=[];for(var e=0;e<t.length;e++)for(var n=t[e],h=0;h<this.adjList[n].length;h++){var l=this.adjList[n][h];t.includes(l)&&s[n].push(l)}}return s},this.getStrongConnectedComponents=function(t){this.sccCounter++,this.lowlink[t]=this.sccCounter,this.number[t]=this.sccCounter,this.visited[t]=!0,this.stack.push(t);for(var s=0;s<this.adjList[t].length;s++){var i=this.adjList[t][s];this.visited[i]?this.number[i]<this.number[t]&&this.stack.includes(i)&&(this.lowlink[t]=Math.min(this.lowlink[t],this.number[i])):(this.getStrongConnectedComponents(i),this.lowlink[t]=Math.min(this.lowlink[t],this.lowlink[i]))}if(this.lowlink[t]==this.number[t]&&this.stack.length>0){var e=-1,n=[];do{e=this.stack[this.stack.length-1],this.stack.splice(this.stack.length-1,1),n.push(e)}while(this.number[e]>this.number[t]);n.length>1&&this.currentSCCs.push(n)}}};